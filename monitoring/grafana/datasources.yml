# Grafana数据源配置
apiVersion: 1

datasources:
  # Prometheus数据源
  - name: Prometheus
    type: prometheus
    access: proxy
    url: http://prometheus:9090
    isDefault: true
    editable: true
    jsonData:
      timeInterval: "5s"
      queryTimeout: "60s"
      httpMethod: "POST"

  # InfluxDB数据源（可选）
  - name: InfluxDB
    type: influxdb
    access: proxy
    url: http://influxdb:8086
    database: bywg_metrics
    user: grafana
    password: grafana
    jsonData:
      timeInterval: "5s"
      httpMode: "POST"

  # MySQL数据源（用于业务数据）
  - name: MySQL
    type: mysql
    access: proxy
    url: postgres:5432
    database: bywg_admin
    user: bywg
    password: bywg123
    jsonData:
      maxOpenConns: 100
      maxIdleConns: 100
      connMaxLifetime: 14400
