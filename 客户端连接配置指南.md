# BYWG 客户端连接配置指南

## 🎯 概述

BYWG边缘网关系统提供了用户友好的连接配置界面，让用户能够轻松配置各种工业协议的连接参数，无需手动输入复杂的连接字符串。

## 🚀 快速开始

### 1. **快速连接配置**
- 选择预定义的连接模板
- 自动填充常用参数
- 一键配置完成

### 2. **协议配置向导**
- 分步骤引导配置
- 详细的参数说明
- 实时验证配置

### 3. **高级配置**
- 自定义所有参数
- 支持复杂配置场景
- 保存配置模板

## 📋 支持的协议类型

### 1. **Modbus TCP/RTU**
- **适用设备**: 大多数工业设备
- **默认端口**: 502
- **配置参数**:
  - IP地址: 设备IP地址
  - 端口: 通信端口（默认502）
  - 从站地址: 设备从站ID（默认1）
  - 数据点: 要读取的寄存器地址

**示例配置**:
```
设备名称: Modbus_Device
IP地址: 192.168.1.100
端口: 502
从站地址: 1
数据点:
40001,word
40002,word
40003,word
```

### 2. **西门子 S7**
- **适用设备**: 西门子S7系列PLC
- **默认端口**: 102
- **配置参数**:
  - IP地址: PLC IP地址
  - 端口: 通信端口（默认102）
  - 机架号: PLC机架号（默认0）
  - 数据点: DB块地址

**示例配置**:
```
设备名称: S7_1200_Device
IP地址: 192.168.1.100
端口: 102
机架号: 0
数据点:
DB1.0,word
DB1.2,word
DB1.4,word
```

### 3. **三菱 MC**
- **适用设备**: 三菱PLC
- **默认端口**: 5007
- **支持协议**: Qna-3E、3C、4C、4E
- **配置参数**:
  - IP地址: PLC IP地址
  - 端口: 通信端口（默认5007）
  - 协议类型: 选择对应的MC协议版本
  - 网络号: 网络编号（默认0）
  - 数据点: 设备地址

**示例配置**:
```
设备名称: Mitsubishi_Qna3E_Device
IP地址: 192.168.1.100
端口: 5007
协议类型: Qna-3E
网络号: 0
数据点:
D100,word
D101,word
M100,bit
```

## 🎨 用户界面特性

### 1. **快速连接对话框**
- **模板选择**: 预定义常用设备模板
- **参数自动填充**: 选择模板后自动填充参数
- **实时验证**: 输入时实时验证参数格式
- **连接测试**: 一键测试连接是否正常

### 2. **协议配置向导**
- **步骤导航**: 清晰的步骤指示器
- **分步配置**: 每个步骤专注一个配置项
- **参数说明**: 详细的参数说明和示例
- **配置摘要**: 最终确认配置信息

### 3. **连接模板**
- **Modbus TCP - 标准配置**: 适用于大多数Modbus设备
- **西门子 S7-1200**: 适用于S7-1200系列PLC
- **西门子 S7-1500**: 适用于S7-1500系列PLC
- **三菱 Q系列 - Qna-3E**: 适用于三菱Q系列PLC
- **三菱 FX系列 - 3C**: 适用于三菱FX系列PLC

## 🔧 配置步骤

### 步骤1: 选择协议类型
1. 打开快速连接对话框
2. 选择对应的设备模板
3. 系统自动填充默认参数

### 步骤2: 配置连接参数
1. 修改设备名称（可选）
2. 输入正确的IP地址
3. 确认端口号
4. 配置其他协议特定参数

### 步骤3: 配置数据点
1. 输入要读取的数据点地址
2. 选择数据类型（word、bit、dword等）
3. 可以使用模板快速配置

### 步骤4: 测试连接
1. 点击"测试连接"按钮
2. 系统验证连接参数
3. 确认连接成功后保存配置

## 📊 数据点配置格式

### Modbus TCP
```
格式: 地址,数据类型
示例:
40001,word    # 保持寄存器40001，16位
40002,word    # 保持寄存器40002，16位
40003,dword   # 保持寄存器40003，32位
```

### 西门子 S7
```
格式: DB块.偏移,数据类型
示例:
DB1.0,word    # DB1数据块，偏移0，16位
DB1.2,word    # DB1数据块，偏移2，16位
DB1.4,dword   # DB1数据块，偏移4，32位
```

### 三菱 MC
```
格式: 设备地址,数据类型
示例:
D100,word     # D寄存器100，16位
D101,word     # D寄存器101，16位
M100,bit      # M继电器100，1位
```

## 🛠️ 高级配置

### 1. **自定义参数**
- 支持所有协议参数的自定义
- 可以保存自定义配置模板
- 支持配置导入导出

### 2. **批量配置**
- 支持批量添加设备
- 可以复制现有配置
- 支持配置文件导入

### 3. **配置验证**
- 实时参数验证
- 连接测试功能
- 配置错误提示

## 🎯 最佳实践

### 1. **命名规范**
- 使用有意义的设备名称
- 包含协议类型信息
- 使用统一的命名格式

### 2. **网络配置**
- 确保网络连通性
- 使用固定IP地址
- 配置防火墙规则

### 3. **数据点配置**
- 合理规划数据点
- 避免频繁读取
- 使用合适的数据类型

## 🔍 故障排除

### 1. **连接失败**
- 检查IP地址是否正确
- 确认端口号是否正确
- 验证网络连通性

### 2. **数据读取失败**
- 检查数据点地址是否正确
- 确认数据类型是否匹配
- 验证设备权限

### 3. **性能问题**
- 减少数据点数量
- 调整读取频率
- 优化网络配置

## 📞 技术支持

如有任何问题或需要技术支持，请参考：
- 系统文档：`边缘网关系统最终完成报告.md`
- 协议文档：`三菱MC协议兼容性修复完成报告.md`
- 性能文档：`异步协议优化实施完成报告.md`

现在用户可以轻松配置各种工业协议的连接，无需手动输入复杂的连接字符串！🎉
